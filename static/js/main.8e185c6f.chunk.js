(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{37:function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},40:function(e,t,n){e.exports=n(89)},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),i=n.n(c),l=n(14),o=n(15),s=n(13),u=n(36),d=(n(49),n(3)),m=n(4),p=n(5),h=n(7),E=n(6),g=(n(50),n(51),n(37)),b=n.n(g),f=(n(52),function(){return a.a.createElement("div",{className:"Logo"},a.a.createElement(l.b,{to:"/burgerbuilder"},a.a.createElement("img",{src:b.a,alt:"MyBurger"})))}),v=(n(54),n(55),function(e){return a.a.createElement("li",{className:"NavigationItem"},a.a.createElement(l.c,{to:e.link,exact:!0},e.children))}),O=function(){return a.a.createElement("ul",{className:"NavigationItems"},a.a.createElement(v,{link:"/burgerbuilder"},"Burger Builder"),a.a.createElement(v,{link:"/orders"},"Checkout"))},y=(n(56),function(e){return a.a.createElement("div",{onClick:e.click,className:"DrawerToggle"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}),j=function(e){return a.a.createElement("header",{className:"Toolbar"},a.a.createElement(y,{click:e.click}),a.a.createElement("div",{className:"DivLogo"},a.a.createElement(f,null)),a.a.createElement("nav",{className:"DesktopOnly"},a.a.createElement(O,null)))},N=(n(57),n(58),function(e){return e.show?a.a.createElement("div",{className:"Backdrop",onClick:e.click}):null}),k=function(e){var t=["SideDraw",e.show?"Open":"Close"].join(" ");return a.a.createElement(a.a.Fragment,null,a.a.createElement(N,{show:e.show,click:e.click}),a.a.createElement("div",{className:t},a.a.createElement("div",{className:"SideDrawLogo"},a.a.createElement(f,null)),a.a.createElement("nav",null,a.a.createElement(O,null))))},C=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showSideDraw:!1},e.toggleSideDrawHandler=function(){e.setState((function(e){return{showSideDraw:!e.showSideDraw}}))},e}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(j,{click:this.toggleSideDrawHandler}),a.a.createElement(k,{click:this.toggleSideDrawHandler,show:this.state.showSideDraw}),a.a.createElement("main",{className:"content"},this.props.children))}}]),n}(r.Component),S=n(1),I=n(39),T=(n(59),n(60),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=a.a.createElement("div",{className:"BreadBottom"});break;case"bread-top":e=a.a.createElement("div",{className:"BreadTop"},a.a.createElement("div",{className:"Seeds1"}),a.a.createElement("div",{className:"Seeds2"}));break;case"meat":e=a.a.createElement("div",{className:"Meat"});break;case"cheese":e=a.a.createElement("div",{className:"Cheese"});break;case"bacon":e=a.a.createElement("div",{className:"Bacon"});break;case"salad":e=a.a.createElement("div",{className:"Salad"})}return e}}]),n}(r.Component)),D=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(I.a)(Array(e.ingredients[t])).map((function(e,n){return a.a.createElement(T,{type:t,key:t+n})}))})).flat(1/0);return t.length||(t=a.a.createElement("p",{className:"Nothing"},"Please add your ingredients :)")),a.a.createElement("div",{className:"Burger"},a.a.createElement(T,{type:"bread-top"}),t,a.a.createElement(T,{type:"bread-bottom"}))},w=(n(61),n(62),function(e){return a.a.createElement("div",{className:"BuildControl"},a.a.createElement("div",{className:"Label"},e.label),a.a.createElement("button",{className:"Less",onClick:e.remove,disabled:e.disabled},"Less"),a.a.createElement("p",null,e.amount," x $ ",e.price),a.a.createElement("button",{className:"More",onClick:e.added},"More"))});var R=function(e){var t=Object.keys(e.ingredients).map((function(e){return{label:(t=e,t[0].toUpperCase()+t.slice(1)),type:e};var t}));return a.a.createElement("div",{className:"BuildControls"},a.a.createElement("p",null,"Total price is: $ ",a.a.createElement("b",null,e.price)),t.map((function(t){return a.a.createElement(w,{key:t.label,label:t.label,type:t.type,added:function(){return e.addIngredients(t.type)},remove:function(){return e.removeIngredients(t.type)},disabled:e.disableInfo[t.type],amount:e.ingredients[t.type],price:e.eachPrice[t.type]})})),a.a.createElement("button",{className:"OrderButton",disabled:!e.purchasable,onClick:e.purchasing},"Order Now"))},_=(n(63),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(N,{show:this.props.show,click:this.props.click}),a.a.createElement("div",{className:"Modal",style:{transform:"translateY(".concat(this.props.show?0:-100,"vh)"),opacity:this.props.show?1:0}},this.props.children))}}]),n}(r.Component)),H=(n(64),n(65),function(e){return a.a.createElement("button",{className:["Button",e.btnType].join(" "),onClick:e.clicked},e.children)}),F=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Your Order"),a.a.createElement("p",null,"A delicious burger with the following ingredients:"),a.a.createElement("ul",null,Object.keys(e.ingredients).map((function(t){return a.a.createElement("li",{className:"OrderSummary",key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t])}))),a.a.createElement("p",null,"Total price: $ ",e.total),a.a.createElement("p",null,"Continue to checkout?"),a.a.createElement(H,{btnType:"Danger",clicked:e.cancel},"CANCEL"),a.a.createElement(H,{btnType:"Success",clicked:e.continue},"CONTINUE"))},P=n(38),B=n.n(P).a.create({baseURL:"https://my-burger-phl.firebaseio.com/"}),A=(n(83),function(){return a.a.createElement("div",{className:"Spinner-Loader"},"Loading...")}),L=function(e,t){return function(n){Object(h.a)(c,n);var r=Object(E.a)(c);function c(){var e;Object(m.a)(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={error:null},e.confirmErrorHandler=function(){e.setState({error:null})},e}return Object(p.a)(c,[{key:"componentDidMount",value:function(){var e=this;this.requestInterceptor=t.interceptors.request.use((function(t){return e.confirmErrorHandler(),t})),this.responseInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.requestInterceptor),t.interceptors.response.eject(this.responseInterceptor)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,{show:this.state.error,click:this.confirmErrorHandler},this.state.error?this.state.error.message:null),a.a.createElement(e,this.props))}}]),c}(r.Component)},U=(n(84),{salad:1,bacon:2,meat:3,cheese:.5}),M=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={purchasing:!1},e.purchasingHandler=function(){e.setState({purchasing:!e.state.purchasing})},e.continueHandler=function(){e.props.onInitPurchase(),e.props.history.push("/checkout")},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onSetIngredients()}},{key:"updatePurchasable",value:function(e){return Object.values(e).reduce((function(e,t){return e+t}))>0}},{key:"render",value:function(){var e=Object(S.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;var n=null,r=this.props.error?a.a.createElement("div",{className:"BurgerBuilder-error"},a.a.createElement("p",null,"Ingredients can't be loaded"),a.a.createElement("p",null,"Error: ",this.props.error)):a.a.createElement(A,null);return this.props.ingredients&&(r=a.a.createElement(a.a.Fragment,null,a.a.createElement(D,{ingredients:this.props.ingredients}),a.a.createElement(R,{ingredients:this.props.ingredients,addIngredients:this.props.onIngredientAdded,removeIngredients:this.props.onIngredientRemoved,disableInfo:e,price:this.props.totalPrice,purchasable:this.updatePurchasable(this.props.ingredients),purchasing:this.purchasingHandler,eachPrice:U})),n=a.a.createElement(F,{ingredients:this.props.ingredients,total:this.props.totalPrice,cancel:this.purchasingHandler,continue:this.continueHandler})),a.a.createElement(a.a.Fragment,null,a.a.createElement(_,{show:this.state.purchasing,click:this.purchasingHandler},n),r)}}]),n}(r.Component),x=Object(s.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,error:e.burgerBuilder.error}}),(function(e){return{onIngredientAdded:function(t){return e({type:"ADD_INGREDIENT",ingredientName:t})},onIngredientRemoved:function(t){return e({type:"REMOVE_INGREDIENT",ingredientName:t})},onSetIngredients:function(){return e((function(e){B.get("/ingredients.json").then((function(t){e({type:"SET_INGREDIENT",ingredients:t.data,totalPrice:2})})).catch((function(t){e(function(e){return{type:"FETCH_INGREDIENT_FAILED",error:e}}(t.message))}))}))},onInitPurchase:function(){return e({type:"PURCHASE_INIT"})}}}))(L(M,B)),G=(n(85),function(e){return a.a.createElement("div",{className:"CheckoutSummary"},a.a.createElement("h1",null,"We hope it taste well!"),a.a.createElement("div",{className:"CheckoutSummary-div"},a.a.createElement(D,{ingredients:e.ingredients})),a.a.createElement(H,{btnType:"Danger",clicked:e.cancel},"CANCEL"),a.a.createElement(H,{btnType:"Success",clicked:e.continue},"CONTINUE"))}),Y=(n(86),n(87),function(e){var t=null;switch(e.elementType){case"input":t=a.a.createElement("input",Object.assign({className:"Input-element"},e.elementConfig,{onChange:e.changed,value:e.value,type:e.elementConfig.type,required:!0}));break;case"textarea":t=a.a.createElement("textarea",Object.assign({className:"Input-element",onChange:e.changed,value:e.value},e.elementConfig));break;case"select":t=a.a.createElement("select",{className:"Input-element",value:e.value,onChange:e.changed},e.elementConfig.option.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value}," ",e.displayValue," ")})));break;default:t=a.a.createElement("input",Object.assign({className:"Input-element",onChange:e.changed,value:e.value},e.elementConfig))}return a.a.createElement("div",{className:"Input-input"},a.a.createElement("label",{className:"Input-label"},e.label),t)}),V=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={orderForm:{name:{elementType:"input",label:"Your Name:",elementConfig:{type:"text",placeholder:"Enter your name"},value:""},email:{elementType:"input",label:"Your mail",elementConfig:{type:"email",placeholder:"Enter your mail"},value:""},address:{elementType:"input",label:"Your address",elementConfig:{type:"text",placeholder:"Enter your address"},value:""},deliveryMethod:{elementType:"select",label:"Delivery method",elementConfig:{option:[{value:"cheapest",displayValue:"Cheapest"},{value:"fastest",displayValue:"Fastest"}]},value:"cheapest"},option:{elementType:"textarea",label:"Your description",elementConfig:{type:"text",placeholder:"Enter your description"},value:""}}},e.cancelHandler=function(){e.props.history.push("/")},e.orderedHandler=function(t){t.preventDefault();var n={};for(var r in e.state.orderForm)n[r]=e.state.orderForm[r].value;var a={ingredients:e.props.ingredients,price:e.props.totalPrice,orderForm:n};e.props.onOrderStart(a)},e.changedInputHandler=function(t,n){var r=Object(S.a)({},e.state.orderForm),a=Object(S.a)({},r[n]);a.value=t.target.value,r[n]=a,e.setState({orderForm:r})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.orderForm)t.push({id:n,config:this.state.orderForm[n]});t=t.map((function(t){return a.a.createElement(Y,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,label:t.config.label,changed:function(n){return e.changedInputHandler(n,t.id)}})}));var r=a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Please enter your info:"),a.a.createElement("form",{onSubmit:this.orderedHandler},t,a.a.createElement("div",{className:"ContactData-button"},a.a.createElement(H,{btnType:"Danger",clicked:this.cancelHandler},"Cancel"),a.a.createElement(H,{btnType:"Success"},"Order"))));return this.props.loading&&(r=a.a.createElement(A,null)),a.a.createElement("div",{className:"ContactData"},r)}}]),n}(r.Component),q=Object(s.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,loading:e.order.loading}}),(function(e){return{onOrderStart:function(t){return e(function(e){return function(t){t({type:"PURCHASE_BURGER_START"}),B.post("/orders.json",e).then((function(n){console.log(n.data),t(function(e,t){return{type:"ORDER_SUCCESS",orderData:t,orderId:e}}(n.data.name,e)),alert("Your order has been sent!")})).catch((function(e){t(function(e){return{type:"ORDER_FAILED",error:e}}(e))}))}}(t))}}}))(L(V,B)),$=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).cancelHandler=function(){e.props.history.goBack()},e.continueHandler=function(){e.props.history.push("/checkout/contact-info")},e}return Object(p.a)(n,[{key:"render",value:function(){var e=a.a.createElement(q,this.props),t=a.a.createElement(d.a,{to:"/"}),n=this.props.purchased?a.a.createElement(d.a,{to:"/burger-builder"}):null;return this.props.ingredients&&(t=a.a.createElement(a.a.Fragment,null,a.a.createElement(d.d,null,n,a.a.createElement(d.b,{path:this.props.match.path+"/contact-info",render:function(){return e}}),a.a.createElement(G,{ingredients:this.props.ingredients,cancel:this.cancelHandler,continue:this.continueHandler})))),a.a.createElement("div",null,t)}}]),n}(r.Component),W=Object(s.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,purchased:e.order.purchased}}))($),J=(n(88),function(e){var t=Object.keys(e.ingredients).map((function(t){return"".concat(t," (").concat(e.ingredients[t],")")})).join(", ");return a.a.createElement("div",{className:"Order"},a.a.createElement("p",null,"Ingredients: ",t," "),a.a.createElement("p",null,"Price: ",a.a.createElement("b",null," $ ",e.price)))}),X=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchOrder()}},{key:"render",value:function(){var e=a.a.createElement(A,null);return this.props.orders.length&&(e=this.props.orders.map((function(e){return a.a.createElement(J,{key:e.key,ingredients:e.ingredients,price:e.price})})).reverse()),a.a.createElement("div",null,e)}}]),n}(r.Component),z=Object(s.b)((function(e){return{orders:e.order.orders,loading:e.order.loading}}),(function(e){return{onFetchOrder:function(){return e((function(e){e({type:"FETCH_ORDERS_START"}),B.get("/orders.json").then((function(t){var n=[];for(var r in t.data)n.push(Object(S.a)(Object(S.a)({},t.data[r]),{},{key:r}));e(function(e){return{type:"FETCH_ORDERS_SUCCESS",orders:e}}(n))})).catch((function(t){console.log(t),e(function(e){return{type:"FETCH_ORDERS_SUCCESS",error:e}}(t.message))}))}))}}}))(L(X,B));var K=function(){return a.a.createElement("div",null,a.a.createElement(C,null,a.a.createElement(d.d,null,a.a.createElement(d.b,{path:"/orders",component:z}),a.a.createElement(d.b,{path:"/checkout",component:W}),a.a.createElement(d.b,{component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=n(18),Z={ingredients:null,totalPrice:2,error:null},ee={salad:1,bacon:2,meat:3,cheese:.5},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INGREDIENT":return Object(S.a)(Object(S.a)({},e),{},{ingredients:Object(S.a)(Object(S.a)({},e.ingredients),{},Object(Q.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+ee[t.ingredientName]});case"REMOVE_INGREDIENT":return Object(S.a)(Object(S.a)({},e),{},{ingredients:Object(S.a)(Object(S.a)({},e.ingredients),{},Object(Q.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-ee[t.ingredientName]});case"SET_INGREDIENT":return Object(S.a)(Object(S.a)({},e),{},{ingredients:t.ingredients,totalPrice:t.totalPrice,error:null});case"FETCH_INGREDIENT_FAILED":return Object(S.a)(Object(S.a)({},e),{},{error:t.error});default:return e}},ne={orders:[],loading:!1,purchased:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE_INIT":return Object(S.a)(Object(S.a)({},e),{},{purchased:!1});case"PURCHASE_BURGER_START":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case"ORDER_SUCCESS":var n=Object(S.a)(Object(S.a)({},t.orderData),{},{id:t.orderId});return Object(S.a)(Object(S.a)({},e),{},{loading:!1,order:e.orders.concat(n),purchased:!0});case"ORDER_FAILED":return Object(S.a)(Object(S.a)({},e),{},{loading:!1});case"FETCH_ORDERS_START":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case"FETCH_ORDERS_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,orders:t.orders});case"FETCH_ORDERS_FAIL":return Object(S.a)(Object(S.a)({},e),{},{loading:!1});default:return e}},ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,ce=Object(o.c)({burgerBuilder:te,order:re}),ie=Object(o.e)(ce,ae(Object(o.a)(u.a))),le=a.a.createElement(s.a,{store:ie},a.a.createElement(l.a,null,a.a.createElement(a.a.StrictMode,null,a.a.createElement(K,null))));i.a.render(le,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.8e185c6f.chunk.js.map